# 组织管理功能说明文档

## 功能概述

**功能名称**：组织架构管理  
**访问路径**：`/admin/organizations`  
**功能描述**：维护学校组织架构树状结构

## 页面布局

### 页面标题
- **主标题**：组织架构管理
- **副标题**：维护学校组织架构树状结构

### 功能按钮
1. **搜索筛选**：在"批量导入"按钮前面，提供搜索输入框，支持按组织名称实时筛选
   - 输入框位置：页面右上角，"批量导入"按钮前面
   - 筛选字段：组织名称
   - 功能特点：用户输入文本时，系统自动匹配并刷新满足条件的数据（300ms防抖）
   - 清除功能：输入框右侧提供清除按钮（X），点击可清空搜索条件
2. **批量导入**：支持批量导入组织数据
3. **添加组织**：创建新的组织节点

### 统计信息卡片
页面顶部显示4个统计指标：
- **组织总数**：当前系统中的组织总数量
- **根节点**：顶级组织（无上级组织）的数量
- **最大层级**：组织架构树的最大深度层级
- **节点数**：所有组织节点的总数

### 数据表格
表格显示以下列：
- **组织名称**：组织的名称
- **上级组织**：该组织的父级组织名称
- **层级**：该组织在树状结构中的层级
- **专业数量**：该组织下关联的专业总数
- **班级数量**：该组织下关联的班级总数
- **学生人数**：该组织下所有学生的人数
- **操作**：对组织进行编辑、删除等操作

### 空状态提示
当没有数据时，显示：
- 图标提示
- 文字："暂无数据"
- 提示："点击右上角'添加组织'按钮创建组织"

## 核心功能

### 1. 添加组织
**触发方式**：点击右上角"添加组织"按钮

**表单字段**：
- **组织名称**（必填）：输入组织的名称
- **上级组织**（可选）：下拉选择上级组织
  - 选项："无上级（根节点）"（默认）
  - 提示：选择上级组织，留空则创建根节点

**操作按钮**：
- **取消**：关闭弹窗，不保存
- **保存**：保存组织信息

### 2. 搜索筛选
**触发方式**：在页面右上角搜索输入框中输入组织名称

**功能说明**：
- 支持按组织名称进行实时搜索筛选（模糊匹配，不区分大小写）
- 输入文本后，系统自动匹配并刷新满足条件的数据
- 使用防抖机制（300ms延迟），避免频繁请求
- 搜索时自动重置到第一页
- 支持清除搜索条件，恢复显示所有数据
- **智能树结构保持**：搜索结果会自动包含匹配节点的所有父节点，保持完整的层级关系

**操作方式**：
- 在搜索框中输入组织名称的关键词（如"边界"、"测试"等）
- 系统自动筛选并显示匹配的组织及其父节点路径
- 点击输入框右侧的"X"按钮可清除搜索条件

**搜索示例**：
- 搜索"边界"：会显示所有包含"边界"的组织，以及它们的父节点（如根节点）
- 搜索"测试"：会显示所有包含"测试"的组织及其完整路径

### 3. 批量导入
**触发方式**：点击右上角"批量导入"按钮

**功能说明**：支持通过Excel文件批量导入组织数据

### 4. 数据展示
- 以表格形式展示所有组织信息
- 显示组织的层级关系和统计信息
- 支持查看组织下的专业、班级、学生数量

### 5. 操作功能
表格中每行记录的操作列可能包含：
- 编辑：修改组织信息
- 删除：删除组织（需确认）
- 查看详情：查看组织详细信息

## 使用场景

1. **初始化组织架构**：系统初始化时，创建学校的组织架构树
2. **添加新部门**：学校新增部门时，创建新的组织节点
3. **调整组织关系**：修改组织的上下级关系
4. **查看组织统计**：了解各组织下的专业、班级、学生分布情况

## 注意事项

1. 组织架构采用树状结构，支持多层级嵌套
2. 删除组织前需要确认，避免误操作
3. 组织下有关联数据（专业、班级、学生）时，删除操作可能需要特殊处理
4. 批量导入需要按照指定格式准备Excel文件

